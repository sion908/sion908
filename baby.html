<html>
    <head>
        <!-- babylon.jsへのリンク -->
        <script src="https://preview.babylonjs.com/babylon.js"></script>
        <!-- babylon.jsが依存しているpep.js のリンク -->
        <script src="https://code.jquery.com/pep/0.4.1/pep.js"></script>
        <style>
        html, body {
    width: 100%;
    height: 100%;
    overflow: hidden;
}
  
#canvas {
    width   : 100%;
    height  : 100%;
    touch-action: none;
}
</style>
    </head>
    <body>
        <canvas id="canvas"></canvas>
        <script>
        var createScene = function (engine, canvas) {
              var scene = new BABYLON.Scene(engine);

              //Adding a light
              var light = new BABYLON.PointLight("Omni", new BABYLON.Vector3(20, 20, 100), scene);

              //Adding an Arc Rotate Camera
              var camera = new BABYLON.ArcRotateCamera("Camera", 0, 0.8, 100, BABYLON.Vector3.Zero(), scene);
              camera.attachControl(canvas, false);

              // The first parameter can be used to specify which mesh to import. Here we import all meshes
              BABYLON.SceneLoader.ImportMesh("", "model/", "bari_block.glb", scene, function (newMeshes) {
                  // Set the target of the camera to the first imported mesh
                  camera.target = newMeshes[0];
              });

              // Move the light with the camera
              scene.registerBeforeRender(function () {
                  light.position = camera.position;
              });

              return scene;
          }
        function main() {
            // canvasを取得する
            const canvas = document.getElementById('canvas');
            // エンジンを生成
            const engine = new BABYLON.Engine(canvas);
            // シーンを作成
            const scene = createScene(engine, canvas);

            // このあたりにモデリング用のコード関数を記述する
            
          
            // 描画ループ関数を定義する
            engine.runRenderLoop(() => {
              scene.render();
            });
        }
        main()
        </script>
    </body>
</html>